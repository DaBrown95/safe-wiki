<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <title>Kiwix</title>
    <meta name="description" content="Offline Wikipedia reader">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--
    Kiwix (offline Wikipedia reader) - HTML5/Javascript version
    Home page : http://www.kiwix.org

    Main authors of Kiwix JS :
    Mossroy - mossroy@mossroy.fr
    Peter-x - https://github.com/peter-x

    Main author of SAFE Wiki :
    David Brown - https://github.com/DaBrown95

    Copyright 2013-2017 Mossroy, Peter-x and contributors
    Copyright 2017 David Brown <david_a_brown@mac.com>

    SAFE Wiki is a fork of the Kiwix JS project.
    Kiwix JS is available here: <https://github.com/kiwix/kiwix-js>
    All changes can be viewed here: <https://github.com/DaBrown95/safe-wiki>

    License GPL v3:

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
    -->

    <link rel="stylesheet" href="../css/app.css"/>
    <!-- Bootstrap -->
    <link href="../css/bootstrap.css" rel="stylesheet" media="screen"/>
    <link href="../css/bootstrap-theme.css" rel="stylesheet" media="screen"/>
</head>
<body role="application">
<section id="search-article" role="region">
    <header id="top">
        <nav class="navbar navbar-default" role="navigation">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" id="navbarToggle" class="navbar-toggle" data-toggle="collapse"
                        data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand">Kiwix 2.2-WIP</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    <li id="liHomeNav" class="active"><a href="#" id="btnHome">Home</a></li>
                    <li id="liConfigureNav"><a href="#" id="btnConfigure">Configure</a></li>
                    <li id="liAboutNav"><a href="#" id="btnAbout">About</a></li>
                </ul>
            </div><!-- /.navbar-collapse -->
        </nav>


        <div class="container">
            <form id="formArticleSearch">
                <div class="row">
                        <span class="nopadding col-md-offset-1 col-sm-offset-1 col-md-8 col-sm-8 col-xs-7">
                            <span class="input-group">
                                <input type="search" id="prefix" placeholder="Search..." class="form-control"/>
                                <span class="input-group-btn">
                                    <a class="btn btn-default" id="searchArticles"><span
                                            class="glyphicon glyphicon-search"></span></a>
                                </span>
                            </span>
                        </span>
                    <span class="nopadding col-md-2 col-sm-2 col-xs-5">
                            <span class="btn-group btn-group-xs">
                                <a class="btn btn-default btn-xs" id="btnRandomArticle"><span
                                        class="glyphicon glyphicon-random"></span><small><br/>Random</small></a>
                            </span>
                        </span>
                </div>
                <div id="searchingForArticles" class="floating" style="display: none;">
                    <img src="../img/spinner.gif" alt="Please wait..."/>
                </div>
            </form>
        </div>
    </header>
    <article class="view-content">
        <div id="about" style="display: none;" class="category-padding">
            <h2>
                <img src="../img/icons/kiwix-60.png" alt="Kiwix icon"/>
                Kiwix : offline Wikipedia viewer
            </h2>
            <br/>Official site : <a href="http://www.kiwix.org/" target="_blank">http://www.kiwix.org/</a>
            <br/>
            <br/>If your Internet access is expensive/rare/slow/unreliable/watched/censored, you still can browse
            amazing amounts of knowledge and culture.
            <br/>The content is packages in file archives called ZIM files.
            <br/>Once you have downloaded material from the Kiwix website, you will be able to read material from
            Wikipedia and many other sources.
            <br/>You can search among the article titles, and read any of these articles offline, without needing
            Internet access.
            <br/>All the content of Wikipedia is inside your device (including the images). It might also work with any
            content in the <a href="http://www.openzim.org//wiki/OpenZIM">OpenZIM format</a>, but has been only tested
            on the Wikipedia ones.
            <br/>
            <br/>Note : version 1.x of this application was designed for <a
                href="http://dumpathome.evopedia.info/dumps/finished/">Evopedia archives</a> and it's still compatible
            with it, but this format and <a href="http://www.evopedia.info">project</a> are now discontinued.
            <h3>Usage</h3>
            <h4>Step 1 : download some content</h4>
            from <a href="http://download.kiwix.org/zim" target="_blank">http://download.kiwix.org/zim/</a>, with a
            regular computer.
            <strong>Currently only Wikimedia contents (ZIM files in wiki* subdirectories, for instance <a
                    href="http://download.kiwix.org/zim/wikipedia/" target="_blank">http://download.kiwix.org/zim/wikipedia/</a>)
                have been tested</strong>.
            There are known bugs when reading other contents; and audio/video/dynamic contents are not supported for
            now.
            <br/>For a quick test, you can start with the <a
                href="http://download.kiwix.org/zim/wikipedia/wikipedia_en_ray_charles_2015-06.zim" target="_blank">"Ray
            Charles" ZIM file</a> : it contains some wikipedia articles about Ray Charles.
            <br/>After that, you can download materials in your language. Check the size before you download files as
            many of the files are large (several Gigabytes).
            <br/>If the file is larger than 2 GB, it might not be supported by your device if your storage is formatted
            using a FAT filesystem. If so, it's possible to split the material into several 2GB files : see <a
                href="http://www.kiwix.org/wiki/FAQ">the Kiwix FAQ</a>
            <br/>
            <h4>Step 2 : copy the content onto your device</h4>
            If you have enough space, you can put several archives.
            <h4>Step 3 : open the extension, go to the "Configure" menu and select your ZIM file</h4>
            <h4>Step 4 : enjoy Wikipedia offline!</h4>
            <h3>Privacy policy</h3>
            <h4>Short answer :</h4>
            This application works offline. We do not collect any of your personal data and don't even know what you are
            doing with this application.
            <br/><h4>Longer answer :</h4>
            Anyway, if you think your Internet access can be watched and/or if you are paranoid, you should shut down
            your 3G and Wifi access before using the application.
            <br/>This application only reads the archive files of your device : it does not read any other files.
            <h3>Feedback / helping / contributing</h3>
            This application is still a work in progress. There are many bugs and improvements that need to be done. In
            particular :
            <ul>
                <li><a href="https://github.com/kiwix/kiwix-js/issues/114" target="_blank">Issue #114</a> : Add a way to
                    easily download ZIM files directly to the device
                </li>
                <li><a href="https://github.com/kiwix/kiwix-js/issues/13" target="_blank">Issue #13</a> : All the user
                    interface is in English : I plan to translate it at least in French. If you feel able to translate
                    it in your language, please contact me
                </li>
                <li><a href="https://github.com/kiwix/kiwix-js/issues/172" target="_blank">Issue #172</a> and <a
                        href="https://github.com/kiwix/kiwix-js/issues/152" target="_blank">#152</a> : Handle video and
                    javascript content
                </li>
                <li><a href="https://github.com/kiwix/kiwix-js/issues/126" target="_blank">Issue #126</a> : Load the
                    welcome page at first startup
                </li>
                <li><a href="https://github.com/kiwix/kiwix-js/issues/117" target="_blank">Issue #117</a> : Better
                    handle upper/lowercase and accents/diacritics in title search
                </li>
                <li>Performance improvements etc.</li>
            </ul>
            Suggestions and patches/pull requests are welcome : the source code is on <a
                href="https://github.com/kiwix/kiwix-js" target="_blank">github</a>.
            The <a href="https://github.com/kiwix/kiwix-js/issues" target="_blank">bugtracker</a> is on github too. We
            use it as our roadmap.
            <br/>Alternatively, you can send your feedback <a
                href="mailto:mossroy@mossroy.fr?subject=%5BKiwix%5D%20Feedback%20about%20Kiwix%20JS">by email</a>.
            <br/>In all cases, please give as much detail as you can : which device you are using, which version of
            Kiwix, which archive, which articles etc.
            <br/>
            <br/>If you like the Kiwix project and use it, please consider giving donations :
            <ul>
                <li>to the Wikimedia foundation, to help maintaining their servers and article contents. See the <a
                        href="https://donate.wikimedia.org/" target="_blank">donation page</a></li>
                <li>to Kiwix, to help maintaining the ZIM files and applications. There is a donation button in the <a
                        href="http://www.kiwix.org">home page of kiwix.org</a></li>
            </ul>
            You can also help by :
            <ul>
                <li>Adding articles or improving the existing ones, by <a
                        href="https://en.wikipedia.org/wiki/Wikipedia:Introduction" target="_blank">editing online
                    wikipedia articles</a></li>
                <li><a href="http://www.kiwix.org/wiki/Special:MyLanguage/Participate" target="_blank">Participating</a>
                    in the Kiwix project
                </li>
            </ul>
            <h3>Credits</h3>
            We have to distribute some thanks to :
            <ul>
                <li>Kelson and all the Kiwix community for welcoming peter-x and me in this project</li>
                <li>Wikipedia teams and contributors to help spreading knowledge to everybody</li>
                <li>All the developers of libraries and tools I used for releasing them as Free software (see License
                    paragraph)
                </li>
            </ul>
            <h3>License information</h3>
            Copyright 2013-2017 Mossroy, Peter-x and contributors
            <br/>Copyright 2017 David Brown
            <br/>This application is licensed under the GPL v3 license :
            <br/>
            <i>
                <br/>This program is free software: you can redistribute it and/or modify
                <br/>it under the terms of the GNU General Public License as published by
                <br/>the Free Software Foundation, either version 3 of the License, or
                <br/>(at your option) any later version.
                <br/>
                <br/>This program is distributed in the hope that it will be useful,
                <br/>but WITHOUT ANY WARRANTY; without even the implied warranty of
                <br/>MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
                <br/>GNU General Public License for more details.
                <br/>
                <br/>You should have received a copy of the GNU General Public License
                <br/>along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>
            </i>
            <br/>
            <br/>Main libraries and ressources used :
            <ul>
                <li><a href="http://jquery.com/" target="_blank">jQuery</a> 2, released under the <a
                        href="http://jquery.org/license" target="_blank">MIT license</a></li>
                <li><a href="http://getbootstrap.com/" target="_blank">Bootstrap</a> 3, released under the <a
                        href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache license 2.0</a>, which
                    includes icons from <a href="http://glyphicons.com/">Glyphicons</a></li>
                <li><a href="http://qunitjs.com/" target="_blank">QUnit</a> 2, released under the <a
                        href="http://jquery.org/license" target="_blank">MIT license</a></li>
                <li>Kiwix logo from <a href="http://www.kiwix.org/" target="_blank">kiwix.org</a>, released under the <a
                        href="http://creativecommons.org/licenses/by-sa/3.0/" target="_blank">Creative Commons
                    Attribution Share Alike</a></li>
                <li>OpenZIM specifications from <a href="http://www.openzim.org//wiki/OpenZIM" target="_blank">www.openzim.org</a>,
                    released under the <a href="http://creativecommons.org/licenses/by-sa/3.0/" target="_blank">Creative
                        Commons Attribution Share Alike</a></li>
                <li>Emscripten to generate a XZ decompressor in javascript : <a
                        href="https://github.com/kripken/emscripten" target="_blank">https://github.com/kripken/emscripten</a>,
                    released under the <a href="https://github.com/kripken/emscripten" target="_blank">MIT license</a>
                </li>
                <li><a href="http://tukaani.org/xz/embedded.html">XZ Embedded</a> (the XZ library converted to
                    Javascript with Emscripten), in public domain
                </li>
            </ul>
            <h3>Other platforms/versions</h3>
            Other Kiwix clients exist on various platforms. See the official site : <a href="http://www.kiwix.org/"
                                                                                       target="_blank">http://www.kiwix.org/</a>
        </div>

        <div id="configuration" style="display: none;" class="category-padding">
            <h2>Configuration</h2>

            <div class="btn-group" data-toggle="buttons">
                <label class="btn btn-primary active">
                    <input type="radio" name="options" id="defaultConfigToggle" autocomplete="off" checked> Default
                </label>
                <label class="btn btn-primary">
                    <input type="radio" name="options" id="safeNetworkConfigToggle" autocomplete="off"> SAFE Network
                </label>
            </div>

            <div id="safeNetworkConfiguration" style="display: none;">
                <h2>SAFE</h2>
                This application can read/write ZIM files to the SAFE Network. Please see the about section for more
                information.

                <div id="safeNetworkActivity" style="display: none;">
                    <br/> Waiting on the SAFE Network... <img src="../img/spinner.gif" alt="Please wait..."/>
                </div>

                <button type="button" id="connectToSafe" class="btn btn-primary">Connect to network</button>

                <span class="label label-warning" id="safeNetworkFailure">Not connected to the SAFE Network</span>
                <span class="label label-success" id="safeNetworkSuccess" style="display: none;">Connected to the SAFE Network</span>

                <span class="label label-warning" id="zimFolderNotExists">ZIM folder doesn't exist</span>
                <span class="label label-success" id="zimFolderExists" style="display: none;">ZIM folder exists</span>

                <div id="zimFileSelector" style="display: none;">
                    <h3>Select a ZIM file</h3>
                    Please select a zim file from the SAFE Network.
                    <form id="openSafeZimFile">
                        <div class="form-group">
                            <label for="nfsName">Collection name: </label>
                            <input type="text" class="form-control" id="nfsName">
                            <small class="form-text text-muted">This is the name of the zim folder.</small>
                        </div>
                        <div class="form-group">
                            <label for="nfsFileName">Filename: </label>
                            <input type="text" class="form-control" id="nfsFileName">
                        </div>
                        <button type="submit" class="btn btn-default">Load</button>
                    </form>
                </div>

                <div id="zimFolderCreation" style="display: none;">
                    <h3>Create your own ZIM folder</h3>
                    We will now create a folder for you to store ZIM files. The name you choose is important as this is
                    what other users will use to find your zim files!
                    <form id="createZimFolder">
                        <div class="form-group">
                            <label for="publicName">Public name: </label>
                            <input type="text" class="form-control" id="publicName">
                            <small class="form-text text-muted">This is important! It is what other users will use to
                                read your ZIM files.
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="description">Description:</label>
                            <input type="text" class="form-control" id="description">
                        </div>
                        <button type="submit" class="btn btn-default">Create</button>
                    </form>
                </div>

                <div id="zimFileUploader" style="display: none;">
                    <h3>Upload a ZIM file</h3>
                    You can now upload a ZIM file to the network.
                    <form id="zimFileUpload">
                        <div class="form-group">
                            <label for="zimFile">Public name: </label>
                            <input type="file" class="form-control" id="zimFile" accept=".zim">
                        </div>
                        <div class="form-group">
                            <label for="fileName">File name:</label>
                            <input type="text" class="form-control" id="fileName">
                            <small class="form-text text-muted">Name your file carefully, this is the human readable
                                name that will show to users.
                            </small>
                        </div>
                        <button type="submit" class="btn btn-default">Upload</button>
                    </form>
                </div>

                <div id="zimFileDeletion" style="display: none;">
                    <h3>Delete a ZIM file</h3>
                    This will only allow the deletion of a ZIM file you have uploaded to the network.
                    <form id="zimFileDelete">
                        <div class="form-group">
                            <label for="fileNameForDelete">Filename:</label>
                            <input type="text" class="form-control" id="fileNameForDelete">
                            <small class="form-text text-muted">Specify the exact filename.
                            </small>
                        </div>
                        <button type="submit" class="btn btn-default">Delete</button>
                    </form>

                </div>
            </div>

            <div id="openLocalFiles" style="display: none;">
                <h2>Local</h2>
                This application needs a ZIM archive to work. If you did not download one yet, please see the About
                section
                Please select the .zim file (or all the .zimaa, .zimab etc in case of a split ZIM file)<br/>
                <input type="file" id="archiveFiles" multiple class="btn"
                       accept=".zim,.dat,.idx,.txt,.zimaa,.zimab,.zimac,.zimad,.zimae,.zimaf,.zimag,.zimah,.zimai,.zimaj,.zimak,.zimal,.zimam,.ziman,.zimao,.zimap,.zimaq,.zimar,.zimas,.zimat,.zimau,.zimav,.zimaw,.zimax,.zimay,.zimaz,.zimba,.zimbb,.zimbc,.zimbd,.zimbe,.zimbf,.zimbg,.zimbh,.zimbi,.zimbj,.zimbk,.zimbl,.zimbm,.zimbn,.zimbo,.zimbp,.zimbq,.zimbr,.zimbs,.zimbt,.zimbu,.zimbv,.zimbw,.zimbx,.zimby,.zimbz"/><br/>
                <strong>Only Wikimedia contents (wiki*.zim* files) have been tested</strong> for now. There are known
                bugs on other contents, and audio/video/dynamic contents are not supported for now.<br/>
            </div>
            <div id="scanningForArchives" style="display: none;">
                <br/> Scanning for archives... Please wait <img src="../img/spinner.gif" alt="Please wait..."/>
            </div>
            <div id="chooseArchiveFromLocalStorage" style="display: none;">
                <br/> Please select the archive you want to use : <select id="archiveList"
                                                                          class="form-control"></select>
                <br/> Click <a id="btnRescanDeviceStorage">here</a> to rescan your SD Cards and internal memory
            </div>
            <br/>
            <h2>Expert settings</h2>
            <div id="contentInjectionModeDiv">
                Do not touch unless you know what you're doing. <br/>
                Content injection mode : <br/>
                <input type="radio" name="contentInjectionMode" value="jquery" id="jQueryModeRadio" checked><label
                    for="jQueryModeRadio">JQuery</label> (slow and memory hungry, but safer)
                <br>
                <input type="radio" name="contentInjectionMode" value="serviceworker" id="serviceworkerModeRadio"><label
                    for="serviceworkerModeRadio">ServiceWorker</label> (faster but unstable, and not supported by all
                platforms. In particular, Firefox extensions do not allow ServiceWorkers for now)
            </div>
            <div id="serviceWorkerStatus"></div>
            <div id="messageChannelStatus"></div>
            <br/>
        </div>

        <div id="welcomeText" class="container category-padding">
            You can search the content of your ZIM archive by typing in the above search field.
            <br/>It will suggest articles starting with the letters you type.
        </div>

        <!-- List of articles matching the typed prefix -->
        <div id="articleListWithHeader" class="container">
            <span id="articleListHeaderMessage"></span>
            <div id="articleList" class="list-group">
            </div>
        </div>
        <div id="readingArticle" style="display: none;" class="container">
            Reading article <span id="articleName"></span> from archive... Please wait <img src="../img/spinner.gif"
                                                                                            alt="Please wait..."/>
        </div>
        <iframe id="articleContent" src="dummyArticle.html" class="articleIFrame">&nbsp;</iframe>
    </article>
    <footer>
        <div id="navigationButtons" class="btn-toolbar">
            <!-- We need to restrict the size of this navbar,
            to avoid the top button to be in the scrollbar area :
            on a device, it can trigger a "page down" of the scrollbar -->
            <div class="restrictedSize">
                <a class="btn btn-lg pull-left" id="btnHomeBottom" title="Home"><span
                        class="glyphicon glyphicon-home"></span></a>
                <a class="btn btn-lg" id="btnBack" title="Back"><span
                        class="glyphicon glyphicon-circle-arrow-left"></span></a>
                <a class="btn btn-lg" id="btnForward" title="Forward"><span
                        class="glyphicon glyphicon-circle-arrow-right"></span></a>
                <a class="btn btn-lg pull-right" id="btnTop" title="Top" href="#top"><span
                        class="glyphicon glyphicon-arrow-up"></span></a>
            </div>
        </div>
    </footer>
</section>

<script>
  require('../js/app.js')
</script>

<script type="text/javascript" src="../js/lib/xzdec.js"></script>
</body>
</html>